import random

class NumberGuessingGame:
    def __init__(self):
        self.min_number = 1
        self.max_number = 100
        self.max_attempts = 7
        self.secret_number = None
        self.attempts = 0
        self.game_won = False
    
    def generate_secret_number(self):
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ"""
        self.secret_number = random.randint(self.min_number, self.max_number)
    
    def get_user_guess(self):
        """–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        while True:
            try:
                guess = input(f"–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç {self.min_number} –¥–æ {self.max_number}: ").strip()
                
                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–º–∞–Ω–¥—ã –≤—ã—Ö–æ–¥–∞
                if guess.lower() in ['–≤—ã—Ö–æ–¥', 'exit', 'quit']:
                    return 'exit'
                
                guess = int(guess)
                
                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
                if guess < self.min_number or guess > self.max_number:
                    print(f"–û—à–∏–±–∫–∞: –ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç {self.min_number} –¥–æ {self.max_number}!")
                    continue
                    
                return guess
                
            except ValueError:
                print("–û—à–∏–±–∫–∞: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ!")
    
    def give_hint(self, guess):
        """–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é"""
        if guess < self.secret_number:
            return "–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –ë–û–õ–¨–®–ï –≤–∞—à–µ–≥–æ"
        else:
            return "–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –ú–ï–ù–¨–®–ï –≤–∞—à–µ–≥–æ"
    
    def play_round(self):
        """–ò–≥—Ä–∞–µ—Ç –æ–¥–∏–Ω —Ä–∞—É–Ω–¥ –∏–≥—Ä—ã"""
        self.generate_secret_number()
        self.attempts = 0
        self.game_won = False
        
        print(f"\nüéÆ –Ø –∑–∞–≥–∞–¥–∞–ª —á–∏—Å–ª–æ –æ—Ç {self.min_number} –¥–æ {self.max_number}!")
        print(f"–£ –≤–∞—Å –µ—Å—Ç—å {self.max_attempts} –ø–æ–ø—ã—Ç–æ–∫, —á—Ç–æ–±—ã —É–≥–∞–¥–∞—Ç—å –µ–≥–æ.")
        print("–î–ª—è –≤—ã—Ö–æ–¥–∞ –≤–≤–µ–¥–∏—Ç–µ '–≤—ã—Ö–æ–¥' –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç.")
        print("-" * 50)
        
        while self.attempts < self.max_attempts and not self.game_won:
            attempts_left = self.max_attempts - self.attempts
            print(f"\n–ü–æ–ø—ã—Ç–∫–∞ #{self.attempts + 1} (–æ—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: {attempts_left})")
            
            guess = self.get_user_guess()
            
            if guess == 'exit':
                print("–ò–≥—Ä–∞ –ø—Ä–µ—Ä–≤–∞–Ω–∞. –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!")
                return False
            
            self.attempts += 1
            
            if guess == self.secret_number:
                self.game_won = True
                print(f"\nüéâ –ü–û–ó–î–†–ê–í–õ–Ø–Æ! –í—ã —É–≥–∞–¥–∞–ª–∏ —á–∏—Å–ª–æ {self.secret_number}!")
                print(f"–í–∞–º –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å {self.attempts} –ø–æ–ø—ã—Ç–æ–∫.")
                return True
            else:
                hint = self.give_hint(guess)
                print(f"‚ùå –ù–µ —É–≥–∞–¥–∞–ª–∏! {hint}")
                
                # –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ø—ã—Ç–æ–∫
                if self.attempts == 3:
                    range_hint = self.get_range_hint()
                    print(f"üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: {range_hint}")
                
                # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–ø—ã—Ç–∫–µ
                if attempts_left == 1:
                    print("‚ö° –í–Ω–∏–º–∞–Ω–∏–µ! –≠—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞!")
        
        if not self.game_won:
            print(f"\nüíî –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤—ã –∏—Å—á–µ—Ä–ø–∞–ª–∏ –≤—Å–µ {self.max_attempts} –ø–æ–ø—ã—Ç–æ–∫.")
            print(f"–Ø –∑–∞–≥–∞–¥–∞–ª —á–∏—Å–ª–æ {self.secret_number}.")
            return False
    
    def get_range_hint(self):
        """–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –ø–æ—Å–ª–µ 3-–π –ø–æ–ø—ã—Ç–∫–∏"""
        range_size = 20  # ¬±10 –æ—Ç –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞
        lower_bound = max(self.min_number, self.secret_number - range_size // 2)
        upper_bound = min(self.max_number, self.secret_number + range_size // 2)
        return f"–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –º–µ–∂–¥—É {lower_bound} –∏ {upper_bound}"
    
    def play_game(self):
        """–û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∏–≥—Ä—ã"""
        print("=" * 60)
        print("         –ò–ì–†–ê '–£–ì–ê–î–ê–ô –ß–ò–°–õ–û'")
        print("=" * 60)
        print("–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã:")
        print(f"- –Ø –∑–∞–≥–∞–¥—ã–≤–∞—é —á–∏—Å–ª–æ –æ—Ç {self.min_number} –¥–æ {self.max_number}")
        print(f"- –£ –≤–∞—Å –µ—Å—Ç—å {self.max_attempts} –ø–æ–ø—ã—Ç–æ–∫, —á—Ç–æ–±—ã —É–≥–∞–¥–∞—Ç—å –µ–≥–æ")
        print("- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–∏ —è –ø–æ–¥—Å–∫–∞–∂—É, –±–æ–ª—å—à–µ –∏–ª–∏ –º–µ–Ω—å—à–µ –≤–∞—à–µ —á–∏—Å–ª–æ")
        print("- –î–ª—è –≤—ã—Ö–æ–¥–∞ –≤–≤–µ–¥–∏—Ç–µ '–≤—ã—Ö–æ–¥'")
        print("=" * 60)
        
        games_played = 0
        games_won = 0
        
        while True:
            games_played += 1
            result = self.play_round()
            
            if result:
                games_won += 1
            
            # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            print(f"\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ: {games_played}, –ü–æ–±–µ–¥: {games_won}")
            
            # –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑
            play_again = input("\n–•–æ—Ç–∏—Ç–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑? (–¥–∞/–Ω–µ—Ç): ").strip().lower()
            if play_again not in ['–¥–∞', 'yes', 'y', '–¥']:
                print("\n–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É! –î–æ –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á! üëã")
                break

# –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
if __name__ == "__main__":
    game = NumberGuessingGame()
    game.play_game() 
